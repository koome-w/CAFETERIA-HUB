<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin_dashboard.css"> <!-- Link to external CSS -->
</head>
<body>
    <div class="container">
        <header>
            <h1>Admin Dashboard</h1>
            <p>Welcome, <span id="adminName">Admin</span></p>
            <a href="admin_account.php">
            <button>MyAccount</button> 
            </a>          
        </header>

        <nav>
            <ul>
                <li onclick="showSection('dashboard')">Dashboard Overview</li>
                <li onclick="showSection('menuManagement')">Menu Management</li>
                <!--<li onclick="showSection('orderManagement')">Order Management</li>
                <li onclick="showSection('userManagement')">User Management</li>-->
                <li onclick="showSection('feedbackManagement')">Feedback Management</li>
                <!--<li onclick="showSection('paymentManagement')">Payment Management</li>-->
                <li onclick="showSection('reports')">Reports/Analytics</li>
            </ul>
        </nav>

        <main>
            <!-- Dashboard Overview -->
            <section id="dashboard" class="section visible">
                <h2>Dashboard Overview</h2>
                <div class="stats">
                    <div>Total Orders Today: <span id="totalOrders">0</span></div>
                    <div>Total Revenue Today: <span id="totalRevenue">0</span> KES</div>
                    <div>Total Users: <span id="totalUsers">0</span></div>
                    <div>Total Feedback Received: <span id="totalFeedback">0</span></div>
                </div>
            </section>

            <h2>Menu Management</h2>
            <!-- Menu Management -->
            <section id="menuManagement" class="section hidden">
                <h2>Add Item</h2>
                <form action="add_item.php" method="POST">
                    <input type="text" name="item_name" placeholder="Item Name" required>
                    <input type="number" step="0.01" name="item_price" placeholder="Price" required>
                    <select name="item_category" required>
                        <option value="snacks">Snacks</option>
                        <option value="breakfast">Breakfast</option>
                        <option value="lunch">Lunch</option>
                        <option value="specials">Specials</option>
                    </select>
                    <button onclick="addMenuItem()" >Add Item</button>
                </form>
            </section>

            <!--Remove Item-->
            <section id="menuManagement" class="section hidden">
                <h2>Remove Item</h2>
                <form action="add_item.php" method="POST">
                    <input type="text" name="item_name" placeholder="Item Name" required>
                    <input type="number" step="0.01" name="item_price" placeholder="Price" required>
                    <select name="item_category" required>
                        <option value="snacks">Snacks</option>
                        <option value="breakfast">Breakfast</option>
                        <option value="lunch">Lunch</option>
                        <option value="specials">Specials</option>
                    </select>
                    <button onclick="addMenuItem()" >Remove Item</button>
                </form>
            </section>

            <!-- Order Management 
            <section id="orderManagement" class="section hidden">
                <h2>Order Management</h2>
                <input type="text" id="orderUser" placeholder="User Name" />
                <input type="number" id="orderAmount" placeholder="Order Amount (KES)" />
                <button onclick="addOrder()">Add Order</button>
                <h3>Orders</h3>
                <ul id="orderList"></ul>
            </section>
            -->
            <!-- User Management
            <section id="userManagement" class="section hidden">
                <h2>User Management</h2>
                <input type="text" id="userName" placeholder="User Name" />
                <input type="email" id="userEmail" placeholder="User Email" />
                <button onclick="addUser()">Add User</button>
                <h3>Users</h3>
                <ul id="userList"></ul>
            </section>
            -->

            <!-- Feedback Management 
            <section id="feedbackManagement" class="section hidden">
                <h2>Feedback Management</h2>
                <input type="text" id="feedbackUser" placeholder="User Name" />
                <textarea id="feedbackMessage" placeholder="Feedback Message"></textarea>
                <button onclick="addFeedback()">Submit Feedback</button>
                <h3>Feedback List</h3>
                <ul id="feedbackList"></ul>
            </section>
        -->      

        <!--Feedback Summary-->
        <h2>Feedbacks</h2>
        <!-- Button to Show Feedback Summary -->
<button id="showFeedbackBtn" onclick="fetchFeedbackData()">Show Feedback Summary</button>

<!-- Table to display feedback summary -->
<table id="feedbackSummaryTable" style="display: none;">
    <thead>
        <tr>
            <th>User</th>
            <th>Feedback</th>
            <th>Rating</th>
            <th>Created At</th>
        </tr>
    </thead>
    <tbody id="feedbackTableBody">
        <!-- Feedback rows will be inserted here dynamically -->
    </tbody>
</table>


            <!-- Payment Management 
            <section id="paymentManagement" class="section hidden">
                <h2>Payment Management</h2>
                <input type="text" id="paymentOrderUser" placeholder="User Name" />
                <input type="number" id="paymentAmount" placeholder="Payment Amount (KES)" />
                <button onclick="addPayment()">Add Payment</button>
                <h3>Payments</h3>
                <ul id="paymentList"></ul>
            </section>
            -->

            <!-- Reports/Analytics -->
            <section id="reports" class="section hidden">
                <h2>Reports/Analytics</h2>
                <button onclick="generateReport()">Generate Report</button>
                <h3>Report</h3>
                <div id="reportContainer">
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>User</th>
                            <th>Total Amount</th>
                            <th>Order Date</th>
                            <th>Items</th>
                        </tr>
                    </thead>
                    <tbody id="reportTableBody">
                        <!-- Report rows will be dynamically generated here -->
                    </tbody>
                </table>
                </div>
                <!--                
                <pre id="reportOutput"></pre>
                -->
            </section>
            <button onclick="logout()">Logout</button>
        </main>
    </div>

    <script src="admin_dashboard.js"></script> <!-- Link to external JavaScript -->
</body>
</html>
