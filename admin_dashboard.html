<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin_dashboard.css"> <!-- Link to external CSS -->
</head>
<body>
    <div class="container">
        <header>
            <h1>Admin Dashboard</h1>
            <p>Welcome, <span id="adminName">Admin</span></p>
            <a href="admin_account.php">
            <button>MyAccount</button> 
            </a>          
        </header>

        <nav>
            <ul>
                <li onclick="showSection('dashboard')">Dashboard Overview</li>
                <li onclick="showSection('menuManagement')">Menu Management</li>
                <li onclick="showSection('feedbackManagement')">Feedback Management</li>
                <li onclick="showSection('reports')">Reports/Analytics</li>
            </ul>
        </nav>

        <main>
            <!-- Dashboard Overview -->
            <section id="dashboard" class="section visible">
                <h2>Dashboard Overview</h2>
                <div class="stats">
                    <div>Total Orders Today: <span id="totalOrders">0</span></div>
                    <div>Total Revenue Today: <span id="totalRevenue">0</span> KES</div>
                    <div>Total Users: <span id="totalUsers">0</span></div>
                    <div>Total Feedback Received: <span id="totalFeedback">0</span></div>
                </div>
            </section>

            <h2>Menu Management</h2>
            <!-- Menu Management -->
            <section id="menuManagement" class="section hidden">
                <h2>Add Item</h2>
                <form action="add_item.php" method="POST">
                    <input type="text" name="item_name" placeholder="Item Name" required>
                    <input type="number" step="0.01" name="item_price" placeholder="Price" required>
                    <select name="item_category" required>
                        <option value="snacks">Snacks</option>
                        <option value="breakfast">Breakfast</option>
                        <option value="lunch">Lunch</option>
                        <option value="specials">Specials</option>
                    </select>
                    <button onclick="addMenuItem()" >Add Item</button>
                </form>
            </section>

            <!--Remove Item-->
            <section id="menuManagement" class="section hidden">
                <h2>Remove Item</h2>
                <!-- Remove Item Form -->
                <form id="removeItemForm">
                    <input type="text" id="removeItemName" placeholder="Item Name" required>
                </form>
                <button onclick="removeMenuItem()" >Remove Item</button>
            </section>

        
<!--Feedback Summary  -->
<section id="showFeedbackBtn" class="section hidden">
    <h2>Feedback Summary</h2>
    <button onclick="fetchFeedbackData()">Show Feedback Summary</button>
    <h3>Feedbacks</h3>
    <div id="feedbackContainer">
        <table>
            <thead>
                <tr>
                    <th>Number</th>
                    <th>UserId</th>
                    <th>Feedback</th>
                    <th>Rating</th>
                    <th>TimeOfFeedback</th>
                </tr>
            </thead>
            <tbody id="feedbackTableBody">
            <!-- Feedback rows will be dynamically generated here -->
            </tbody>
        </table>
    </div>         
</section>

<!-- Reports/Analytics -->
<section id="reports" class="section hidden">
    <h2>Reports/Analytics</h2>
    <button onclick="generateReport()">Generate Report</button>
    <h3>Report</h3>
    <div id="reportContainer">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>User</th>
                    <th>Total Amount</th>
                    <th>Order Date</th>
                    <th>Items</th>
                </tr>
            </thead>
            <tbody id="reportTableBody">
            <!-- Report rows will be dynamically generated here -->
            </tbody>
        </table>
    </div>                
</section>
    <button onclick="logout()">Logout</button>
</main>
</div>

<script src="admin_dashboard.js"></script> <!-- Link to external JavaScript -->
</body>
</html>
